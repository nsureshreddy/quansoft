<div class="padding">
  <h3 class="quote-header n-m">
    <span>Send Quote</span>
    <span *ngIf="selectedMaster" class="pull-right">
        <i matTooltip="Back" class="material-icons link">keyboard_backspace</i>
        <i matTooltip="Send Quote" class="material-icons link m-l" (click)="submitTendor()">send</i>
      </span>
  </h3>
  <mat-form-field class="w-full quote-vendors-list">
    <mat-chip-list #chipList>
      <mat-chip *ngFor="let vendor of selectedVendors" [selectable]="selectable" [removable]="removable" (removed)="remove()">
        {{vendor.organization}}
        <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
      </mat-chip>
      <input placeholder="Vendors List" [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="addOnBlur"
        (matChipInputTokenEnd)="add($event)" />
    </mat-chip-list>
  </mat-form-field>
  <mat-form-field class="w-full">
    <input name="selectedProposal" type="text" placeholder="Choose Proposal" aria-label="Proposal" matInput [(ngModel)]="selectedProposal"
      [matAutocomplete]="auto">
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option (onSelectionChange)="selectedMaster=masters[0];" *ngFor="let proposal of proposals" [value]="proposal.name">
        {{ proposal.name }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <div class="text-sm" *ngIf="selectedMaster">
    <mat-grid-list cols="11" rowHeight="32px">
      <mat-grid-tile *ngFor="let tile of tiles" [colspan]="tile.cols" [rowspan]="tile.rows" [style.background]="columnBackground"
        [style.color]="columnTextColor">
        {{tile.text}}
      </mat-grid-tile>
    </mat-grid-list>
    <ng-container>
      <mat-grid-list class="quote-items" cols="11" rowHeight="100px" *ngFor="let bill of selectedMaster.bills">
        <mat-grid-tile [colspan]="1" [rowspan]="1">{{bill.costCode}}</mat-grid-tile>
        <mat-grid-tile [colspan]="1" [rowspan]="1">{{bill.costCentre}}</mat-grid-tile>
        <mat-grid-tile [colspan]="9" [rowspan]="1"></mat-grid-tile>
        <ng-container *ngFor="let activity of bill.activities">
          <mat-grid-tile [colspan]="2" [rowspan]="1"></mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">{{activity.code}}</mat-grid-tile>
          <mat-grid-tile [colspan]="2" [rowspan]="1">{{activity.shortDescription}}</mat-grid-tile>
          <mat-grid-tile class="activity-description" [colspan]="2" [rowspan]="1">{{activity.description}}</mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">{{activity.uom}}</mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">{{activity.quantity}}</mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field style="width: 80px;">
              <input matInput placeholder="Rate" name="rate">
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="p-l" style="width: 80px;">
              <input matInput placeholder="Amount">
            </mat-form-field>
          </mat-grid-tile>
        </ng-container>
      </mat-grid-list>
    </ng-container>
  </div>
</div>